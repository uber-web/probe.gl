"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[426],{4137:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>b});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(r),g=o,b=c["".concat(s,".").concat(g)]||c[g]||d[g]||a;return r?n.createElement(b,i(i({ref:t},u),{},{components:r})):n.createElement(b,i({ref:t},u))}));function b(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<a;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},4329:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var n=r(7462),o=(r(7294),r(4137));const a={},i="Usage",l={unversionedId:"get-started/adding-probes",id:"get-started/adding-probes",title:"Usage",description:"Configure instrumentation level using URL parameters.",source:"@site/../docs/get-started/adding-probes.md",sourceDirName:"get-started",slug:"/get-started/adding-probes",permalink:"/probe.gl/docs/get-started/adding-probes",draft:!1,editUrl:"https://github.com/uber-web/probe.gl/tree/master/website/../docs/get-started/adding-probes.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/probe.gl/docs/get-started/"},next:{title:"Console Logging",permalink:"/probe.gl/docs/articles/about-logging"}},s={},p=[{value:"Configure instrumentation level using URL parameters.",id:"configure-instrumentation-level-using-url-parameters",level:2},{value:"Read configuration to enable/disable features in development",id:"read-configuration-to-enabledisable-features-in-development",level:3},{value:"Probe and production code",id:"probe-and-production-code",level:3},{value:"Access to Probe in the debugger",id:"access-to-probe-in-the-debugger",level:3},{value:"Access to your own functions in the debugger",id:"access-to-your-own-functions-in-the-debugger",level:3},{value:"Profiling Support",id:"profiling-support",level:3},{value:"Cross-Module Profiling",id:"cross-module-profiling",level:4},{value:"Warning and Error Handlers",id:"warning-and-error-handlers",level:3}],u={toc:p},c="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"usage"},"Usage"),(0,o.kt)("h2",{id:"configure-instrumentation-level-using-url-parameters"},"Configure instrumentation level using URL parameters."),(0,o.kt)("p",null,"Probe can be enabled in code or in the Chrome console at runtime. Because Probe\nstores its state in a cookie, enabling or disabling Probe or specific options\npersists across browser sessions."),(0,o.kt)("p",null,"Enable Probe logging and features:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Probe.enable();\n")),(0,o.kt)("p",null,"Set levels:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Probe.setLevel(2);\n")),(0,o.kt)("p",null,"Most Probe config methods are chainable:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Probe.enable().setLevel(2).configure({isPrintEnabled: false});\n")),(0,o.kt)("h3",{id:"read-configuration-to-enabledisable-features-in-development"},"Read configuration to enable/disable features in development"),(0,o.kt)("p",null,"In your code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"import Probe from `probe.gl`;\n\nif (Probe.getOption('myFeature')) {\n  enableFeature();\n}\n")),(0,o.kt)("p",null,"In the console, for development testing:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Probe.configure({mySnazzyFeature: true});\n")),(0,o.kt)("h3",{id:"probe-and-production-code"},"Probe and production code"),(0,o.kt)("p",null,"Probe is designed so that you have the option of keeping your instrumentation\nin production code. Unless you enable Probe, all Probe methods effectively\nbecome no-ops."),(0,o.kt)("h3",{id:"access-to-probe-in-the-debugger"},"Access to Probe in the debugger"),(0,o.kt)("p",null,"Probe does not attach itself to the ",(0,o.kt)("inlineCode",{parentName:"p"},"window")," context by default. You may want to\ndo this when your app is initialized:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"import Probe from `probe.gl`;\nwindow.Probe = Probe;\n")),(0,o.kt)("h3",{id:"access-to-your-own-functions-in-the-debugger"},"Access to your own functions in the debugger"),(0,o.kt)("p",null,"If you want to access your functions in the browser console, simply attach\nthem to the Probe scope and they will be available on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Probe")," global\nvariable."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"import AppStore from './store';\nProbe.getAppState() {\n  console.log(JSON.stringify(AppStore.getState(), null, '  '));\n}\n")),(0,o.kt)("h3",{id:"profiling-support"},"Profiling Support"),(0,o.kt)("p",null,'Profiling is primary purpose of the probe library. It has a complement of\nmethods (i.e. "probes") that you can add to your application to log\ntimings. Each method comes in several variants, which correspond to three\ndifferent log levels, allowing you to control the amount of log detail\nby setting the probe level.'),(0,o.kt)("h4",{id:"cross-module-profiling"},"Cross-Module Profiling"),(0,o.kt)("p",null,"Probe uses global data to ensure that you are working\nagainst the same clocks even if you happen to load multiple instances\nor versions of the probe module in different modules."),(0,o.kt)("h3",{id:"warning-and-error-handlers"},"Warning and Error Handlers"),(0,o.kt)("p",null,"Probe contains a number of optional console intercepts that can be\nenabled to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Treat warnings as hard errors (i.e exceptions that can trigger breakpoints)"),(0,o.kt)("li",{parentName:"ul"},"Break on warnings and errors (Probe can trigger the debugger directly)"),(0,o.kt)("li",{parentName:"ul"},"Detect rejected promise errors - optionally\ncalling window.onerror with the error or calling the proposed\nrejected promise handler.")))}d.isMDXComponent=!0}}]);